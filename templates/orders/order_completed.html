{% extends 'base.html' %}

{% load static %}
{% block content %}

<div class="container pt-3">
    <div class="row gutters">
    	<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
    		<div class="card mb-4">
    			<div class="card-body p-0">
    				<div class="invoice-container">
    					<div class="invoice-header">
                            <h3 class="navbar-brand">
                                Furni<span>.</span>
                            </h3>

							<center><i class="fas fa-check-circle" style="font-size: 72px;margin-bottom: 20px;color: #3b5d50;"></i></center>
							<h2 class="text-center">Payment Successful</h2>
							<br>
							<div class="text-center mb-5">
								<a href="{% url 'shop' %}" class="btn btn-secondary">Shop more</a>
							</div>
    
    						<!-- Row start -->
    						<div class="row gutters">
    							<div class="col-md-6">
    								<div class="text-black">
    									<address >
                                            {{order.full_name}} <br>
											{{order.full_address}} <br>
											{{order.city}}, {{order.state}}
    									</address>
    								</div>
    							</div>
    							<div class="col-md-6">
    								<div class="text-xl-end text-md-end">
    									<div class="text-black">
    										<div><b>Invoice</b>: #{{order_number}}</div>
    										<div><b>Transaction</b>: #{{transID}}</div>
    										<div>{{order.created_at}}</div>
    										<div>Payment <b>{{payment.status}}</b></div>
    									</div>
    								</div>													
    							</div>
    						</div>
    						<!-- Row end -->
    
    					</div>
    
    					<div class="invoice-body">
    
    						<!-- Row start -->
    						<div class="row gutters">
    							<div class="col-lg-12 col-md-12 col-sm-12">
    								<div class="table-responsive">
    									<table class="table custom-table m-0">
    										<thead>
    											<tr>
    												<th>Items</th>
    												<th>Quantity</th>
    												<th>Price</th>
    												<th>Sub Total</th>
    											</tr>
    										</thead>
    										<tbody>
												
												{% for prod in ordered_products%}
												
    											<tr>
    												<td>
    													<span class="h6">{{prod.product.product_name}}</span>
    												</td>
    												<td>{{prod.quantity}}</td>
    												<td>${{prod.product_price}}</td>
													<td>${{prod.total_amount}}</td>
    											</tr>
												
												{% endfor %}

    											<tr>
    												<td>&nbsp;</td>
    												<td colspan="2">
    													<p>
    														<span class="h6">Subtotal</span><br>
    														<span class="h6">Shipping</span><br>
    														<span class="h6">Tax</span><br>
    													</p>
    													<h5 class="text-success"><strong>Grand Total</strong></h5>
    												</td>			
    												<td>
    													<p>
    														${{subtotal}}<br>
    														${{shipping_handling}}<br>
    														${{tax}}<br>
    													</p>
    													<h5 class="text-success"><strong>${{grand_total}}</strong></h5>
    												</td>
    											</tr>
    										</tbody>
    									</table>
    								</div>
    							</div>
    						</div>
    						<!-- Row end -->
    
    					</div>
    
    					<div class="invoice-footer">
    						Thank you for trusting us.
    					</div>
    
    				</div>
    			</div>
    		</div>
    	</div>
    </div>
</div>

{% endblock %}